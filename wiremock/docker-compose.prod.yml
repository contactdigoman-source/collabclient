# Production docker-compose for using pre-built image from registry
# Usage: docker-compose -f docker-compose.prod.yml up

services:
  wiremock:
    # Use pre-built image from registry
    # Replace with your registry URL (e.g., your-username/colabclient-wiremock:latest)
    image: colabclient-wiremock:latest
    container_name: colabclient-wiremock
    ports:
      - "0.0.0.0:8080:8080"
    # No volumes - mappings are in the image
    command: --global-response-templating --verbose --disable-request-logging=false
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:8080/__admin/health"]
      interval: 10s
      timeout: 5s
      retries: 5
    networks:
      - wiremock-network
    restart: unless-stopped  # Auto-restart if container stops

networks:
  wiremock-network:
    driver: bridge

